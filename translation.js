const translations = {
  en: {
    "title": "Sravani Hukumathi Venkata - Machine Learning Engineer",
    "name": "Sravani Hukumathi Venkata",
    "tagline": "Data Scientist with 11 Years of Automotive Expertise & Advanced Training from Université Paris Panthéon-Sorbonne",
    "email": "",
    "linkedin": "https://www.linkedin.com/in/sravani-hukumathi-venkata-750591110/",
    "github": "",
    "phone": "+4917623213880",
    "location": "",
    
    "summary_title": "Summary",
    "summary_text": "High-impact Machine Learning Engineer with 11 years of automotive expertise and advanced Data Science training from Université Paris Panthéon-Sorbonne. Proven track record in developing AI-driven automation and real-time anomaly detection systems. Seeking a Machine learning Engineer/Data Scientist role to integrate Generative AI with Embedded Systems.",
    "summary_text_short": "ML Engineer with 11 years of automotive expertise and advanced Data Science training from Université Paris Panthéon-Sorbonne. Expert in real-time anomaly detection and AI automation.",
    
    "skills_title": "Skills",
    "skills_cat_prog": "Programming Languages",
    "skills_prog_lang_details": "Python, SQL, C++",
    "skills_cat_ml": "Data Science & Machine Learning",
    "skills_ml_details": "LLMs (LangChain, LlamaIndex), RAG Architecture, Computer Vision (OpenCV), Time Series, Anomaly Detection",
    "skills_cat_dl": "Deep Learning & Neural Networks",
    "skills_dl_details": "Keras, PyTorch, TensorFlow, CNNs, Transformers, Reinforcement Learning",
    "skills_cat_tools": "Tools & Platforms",
    "skills_tools_details": "Pandas, Scikit-learn, Github, Docker, Streamlit, AWS, Linux",
    "skills_cat_other": "Embedded Systems",
    "skills_other_details": "AUTOSAR, Embedded C, Microcontrollers (Tricore, RH850, Freescale), Davinci Configurator/Developer",
    "ds_libs_details": "Pandas, NumPy, Scikit-learn, Matplotlib, Seaborn, Plotly",
    "skills_cat_soft": "Professional & Soft Skills",
    "skills_soft_details": "Strategic Stakeholder Communication, Technical Mentorship, Cross-Functional Leadership, Analytical Problem Solving, Agile Project Management",
    
    "projects_title": "Projects",
    "project_1_title": "CAN Bus Anomaly Detection (AI Safety)",
    "project_tech_title": "Technologies",
    "project_1_tech": "Python, Keras, LSTM Autoencoder, Isolation Forest",
    "project_methods_title": "Methods & Techniques",
    "project_1_methods": "Unsupervised Learning, Feature Engineering, Real-time Analysis",
    "project_impact_title": "Impact",
    "project_1_impact": "Built an automated security system identifying vehicle cyber-attacks with 97.6% accuracy, ensuring passenger safety.",
    "project_1_desc": "Developed a robust AI system to detect malicious messages in vehicle communication networks (CAN bus) in real-time.",
    "project_1_li_1": "<b>Methodology:</b> Used advanced AI models to monitor vehicle data and flag suspicious activities automatically.",
    "project_1_li_2": "<b>Technical Edge:</b> Analyzed message frequency and content to distinguish between normal driving and cyber-attacks.",
    "project_1_li_3": "<b>Outcome:</b> Achieved a 98.8% precision rate in identifying Denial of Service (DoS) attacks.",
    "project_1_li_4": "Demonstrated the ability to bridge complex automotive hardware with modern AI security protocols.",
    
    "experience_title": "Professional Experience",
    "experience_title_print": "Professional Experience (11 Years Automotive & AI)",
    
    "exp_1_title": "Project Lead | Montbleu Technologies GmbH, Germany",
    "exp_1_date": "Aug 2021 – Feb 2025",
    "exp_1_li_1": "Directed the full-cycle adaptation of AUTOSAR MCAL for next-generation hardware, ensuring 100% alignment with complex OEM specifications for clients like Stellantis.",
    "exp_1_li_2": "Engineered high-performance multicore and communication solutions (XCP/Ethernet/CAN), optimizing data throughput and system response.",
    "exp_1_li_3": "Spearheaded the integration of safety-critical watchdog and SBC functionalities, significantly enhancing system reliability and reducing post-deployment failures.",
    "exp_1_li_4": "Acted as the primary technical bridge between customer requirements and team execution, delivering zero-defect software solutions to Tier-1 automotive partners.",
    
    "exp_2_title": "Lead Engineer | Avin Systems GmbH, Berlin",
    "exp_2_date": "Sep 2019 – July 2021",
    "exp_2_li_1": "Orchestrated the development of a Battery Management System (BMS) for Mercedes-Benz, steering the software architecture to ensure optimal interface configuration and memory efficient implementation.",
    "exp_2_li_2": "Successfully delivered an AUTOSAR-compliant base software and diagnostic stack, reducing system integration time and ensuring full adherence to rigorous automotive safety standards.",
    "exp_2_li_3": "Led the technical mentorship of junior engineers and established high-standard code review processes, resulting in an increase in team coding efficiency and overall software quality.",
    
    "exp_3_title": "Senior Software Engineer | KPIT Technologies, Munich",
    "exp_3_date": "Oct 2013 – June 2019",
    "exp_3_li_1": "Developed and Configured safety-critical embedded software for Tier-1 suppliers and OEMs including HMK, ZF-TRW, BMW and Continental, ensuring robust performance across millions of production vehicles.",
    "exp_3_li_2": "Mastered complex communication protocols (FlexRay, CAN, LIN) and diagnostic integration, establishing the foundational expertise required for advanced vehicle data analysis.",
    "exp_3_li_3": "Architected comprehensive software designs and facilitated cross-functional collaboration with hardware teams to streamline system integration and reduce development cycles.",
    
    "tech_skills_title": "Automotive & Embedded Expertise",
    "tech_skills_desc_1": "Embedded C, AUTOSAR, Diagnostics (UDS), CAN, FlexRay, Ethernet, Davinci Configurator.",
    "tech_skills_desc_2": "Leadership: Led cross-functional teams and delivered complex software solutions for leading automotive OEMs.",
    
    "education_title": "Education",
    "edu_1_title": "Advanced Data Science Training",
    "edu_1_desc": "Université Paris Panthéon-Sorbonne",
    "edu_1_date": "Sep 2025 - Dec 2025 (666 Teaching Units)",
    "edu_2_title": "Bachelor of Engineering (Instrumentation Technology)",
    "edu_2_desc": "B.V.B College of Engineering and Technology, Hubli, India",
    "edu_2_date": "2009 – 2013",
    
    "certs_title": "Certifications",
    "certs_details": "Professional Data Science Certifications",
    
    "cert_1_title": "Certified Data Scientist | DataScientest",
    "cert_1_li_1": "Intensive program (Weiterbildung) in MLOps, Deep Learning architectures (CNNs, Transformers), and Big Data.",
    "cert_1_li_2": "Focused on creating end-to-end data pipelines and deploying business-ready AI models.",
    "cert_1_li_3": "Modules included Model Interpretability and Responsible AI practices.",
    "cert_1_li_4": "",

    "languages_title": "Languages",
    "languages_details": "English (Fluent), German (B2), Telugu (Native), Kannada, Hindi",
    
    "download_button": "Download Full CV (PDF)"
  },
  de: {
    "title": "Sravani Hukumathi Venkata - Machine Learning Engineer",
    "name": "Sravani Hukumathi Venkata",
    "tagline": "Data Scientist mit 11 Jahren Automotive-Expertise & fortgeschrittener Ausbildung an der Université Paris Panthéon-Sorbonne",
    "email": "",
    "linkedin": "https://www.linkedin.com/in/sravani-hukumathi-venkata-750591110/",
    "github": "https://github.com/sravanihvenkata-blip/CAN_Bus_Anomaly_Detection",
    "phone": "+4917623213880",
    "location": "Urbach, Rems-Murr-Kreis, Baden-Württemberg",
    
    "summary_title": "Zusammenfassung",
    "summary_text": "Leistungsstarke Machine Learning Ingenieurin mit 11 Jahren Automotive-Expertise und fortgeschrittener Data Science-Ausbildung an der Université Paris Panthéon-Sorbonne. Nachgewiesene Erfolge in der Entwicklung von KI-gestützter Automatisierung und Echtzeit-Anomalieerkennungssystemen. Zielsetzung: Machine Learning Engineer/Data Scientist Rolle zur Integration von Generativer KI in Embedded Systems.",
    "summary_text_short": "ML-Ingenieurin mit 11 Jahren Automotive-Expertise und Weiterbildung an der Sorbonne. Expertin für Echtzeit-Anomalieerkennung und KI-Automatisierung.",
    
    "skills_title": "Fähigkeiten",
    "skills_cat_prog": "Programmiersprachen",
    "skills_prog_lang_details": "Python, SQL, C++",
    "skills_cat_ml": "Data Science & Machine Learning",
    "skills_ml_details": "LLMs (LangChain, LlamaIndex), RAG-Architektur, Computer Vision (OpenCV), Zeitreihen, Anomalieerkennung",
    "skills_cat_dl": "Deep Learning & Neuronale Netze",
    "skills_dl_details": "Keras, PyTorch, TensorFlow, CNNs, Transformers, Reinforcement Learning",
    "skills_cat_tools": "Tools & Plattformen",
    "skills_tools_details": "Pandas, Scikit-learn, Github, Docker, Streamlit, AWS, Linux",
    "skills_cat_other": "Embedded Systems",
    "skills_other_details": "AUTOSAR, Embedded C, Mikrocontroller (Tricore, RH850, Freescale), Davinci Configurator/Developer",
    "ds_libs_details": "Pandas, NumPy, Scikit-learn, Matplotlib, Seaborn, Plotly",
    "skills_cat_soft": "Soft Skills & Führung",
    "skills_soft_details": "Strategische Stakeholder-Kommunikation, technisches Mentoring, funktionsübergreifende Führung, analytische Problemlösung, agiles Projektmanagement",
    
    "projects_title": "Projekte",
    "project_1_title": "CAN-Bus Anomalieerkennung (KI-Sicherheit)",
    "project_tech_title": "Technologien",
    "project_1_tech": "Python, Keras, LSTM Autoencoder, Isolation Forest",
    "project_methods_title": "Methoden & Techniken",
    "project_1_methods": "Unüberwachtes Lernen, Feature Engineering, Echtzeitanalyse",
    "project_impact_title": "Einfluss",
    "project_1_impact": "Entwicklung eines automatisierten Sicherheitssystems zur Identifizierung von Cyberangriffen auf Fahrzeuge mit 97,6 % Genauigkeit.",
    "project_1_desc": "Entwicklung eines robusten KI-Systems zur Echtzeiterkennung bösartiger Nachrichten in Fahrzeugkommunikationsnetzen (CAN-Bus).",
    "project_1_li_1": "<b>Methodik:</b> Einsatz fortschrittlicher KI-Modelle zur automatischen Überwachung von Fahrzeugdaten und Kennzeichnung verdächtiger Aktivitäten.",
    "project_1_li_2": "<b>Technischer Vorteil:</b> Analyse von Nachrichtenfrequenz und -inhalt zur Unterscheidung zwischen normalem Fahrbetrieb und Cyberangriffen.",
    "project_1_li_3": "<b>Ergebnis:</b> Erzielung einer Präzisionsrate von 98,8 % bei der Identifizierung von Denial-of-Service (DoS)-Angriffen.",
    "project_1_li_4": "Nachgewiesene Fähigkeit, komplexe Automotive-Hardware mit modernen KI-Sicherheitsprotokollen zu verknüpfen.",
    
    "experience_title": "Berufserfahrung",
    "experience_title_print": "Berufserfahrung (11 Jahre Automotive & KI)",
    
    "exp_1_title": "Project Lead | Montbleu Technologies GmbH, Deutschland",
    "exp_1_date": "Aug 2021 – Feb 2025",
    "exp_1_li_1": "Leitung der vollständigen Anpassung von AUTOSAR MCAL für Hardware der nächsten Generation; Sicherstellung der 100%igen Übereinstimmung mit OEM-Spezifikationen (z. B. Stellantis).",
    "exp_1_li_2": "Entwicklung von Hochleistungs-Multicore- und Kommunikationslösungen (XCP/Ethernet/CAN) zur Optimierung des Datendurchsatzes und der Systemantwortzeiten.",
    "exp_1_li_3": "Federführende Integration sicherheitskritischer Watchdog- und SBC-Funktionen zur signifikanten Erhöhung der Systemzuverlässigkeit.",
    "exp_1_li_4": "Zentrale technische Schnittstelle zwischen Kundenanforderungen und Teamausführung; Lieferung von fehlerfreien Softwarelösungen an Tier-1-Partner.",
    
    "exp_2_title": "Lead Engineer | Avin Systems GmbH, Berlin",
    "exp_2_date": "Sep 2019 – Juli 2021",
    "exp_2_li_1": "Orchestrierung der Entwicklung eines Batteriemanagementsystems (BMS) für Mercedes-Benz; Steuerung der Softwarearchitektur für optimale Schnittstellenkonfiguration.",
    "exp_2_li_2": "Erfolgreiche Bereitstellung von AUTOSAR-konformer Basissoftware und Diagnose-Stacks; Reduzierung der Systemintegrationszeit unter Einhaltung strengster Sicherheitsstandards.",
    "exp_2_li_3": "Technisches Mentoring von Junior-Ingenieuren und Etablierung hochwertiger Code-Review-Prozesse zur Steigerung der Teameffizienz und Softwarequalität.",
    
    "exp_3_title": "Senior Software Engineer | KPIT Technologies, München",
    "exp_3_date": "Okt 2013 – Juni 2019",
    "exp_3_li_1": "Entwicklung und Konfiguration sicherheitskritischer Embedded-Software für Tier-1-Zulieferer und OEMs (u.a. BMW, Continental, ZF-TRW) für Millionen von Serienfahrzeugen.",
    "exp_3_li_2": "Beherrschung komplexer Kommunikationsprotokolle (FlexRay, CAN, LIN) und Diagnoseintegration als Basis für fortgeschrittene Fahrzeugdatenanalyse.",
    "exp_3_li_3": "Entwurf umfassender Softwaredesigns und Förderung der cross-funktionalen Zusammenarbeit mit Hardwareteams zur Rationalisierung der Systemintegration.",
    
    "tech_skills_title": "Automotive & Embedded Expertise",
    "tech_skills_desc_1": "Embedded C, AUTOSAR, Diagnose (UDS), CAN, FlexRay, Ethernet, Davinci Configurator.",
    "tech_skills_desc_2": "Führung: Leitung funktionsübergreifender Teams und Lieferung komplexer Softwarelösungen für führende OEMs.",
    
    "education_title": "Ausbildung",
    "edu_1_title": "Fortgeschrittene Data Science Ausbildung",
    "edu_1_desc": "Université Paris Panthéon-Sorbonne",
    "edu_1_date": "Sep 2025 - Dez 2025 (666 Unterrichtseinheiten)",
    "edu_2_title": "Bachelor of Engineering (Instrumentation Technology)",
    "edu_2_desc": "B.V.B College of Engineering and Technology, Hubli, Indien",
    "edu_2_date": "2009 – 2013",
    
    "certs_title": "Zertifizierungen",
    "certs_details": "Professionelle Data Science Zertifizierungen",
    
    "cert_1_title": "Zertifizierte Data Scientist | DataScientest",
    "cert_1_li_1": "Intensivprogramm (Weiterbildung) in MLOps, Deep Learning Architekturen (CNNs, Transformers) und Big Data.",
    "cert_1_li_2": "Fokus auf End-to-End-Datenpipelines und Bereitstellung geschäftsreifer KI-Modelle.",
    "cert_1_li_3": "Module zu Modellinterpretierbarkeit und verantwortungsvollen KI-Praktiken.",
    "cert_1_li_4": "",

    "languages_title": "Sprachen",
    "languages_details": "Englisch (Fließend), Deutsch (B2), Telugu (Muttersprache), Kannada, Hindi",
    
    "download_button": "Vollständigen Lebenslauf herunterladen (PDF)"
  }
};

document.addEventListener('DOMContentLoaded', () => {
  const setLanguage = (language) => {
    document.documentElement.lang = language;
    localStorage.setItem('language', language);
    document.querySelectorAll('[data-key]').forEach(element => {
      const key = element.getAttribute('data-key');
      if (translations[language] && translations[language][key]) {
        element.innerHTML = translations[language][key];
      }
    });
  };

  const languageSwitcher = document.querySelector('#language-switcher');
  const dropdownItems = document.querySelectorAll('.dropdown-item[data-lang]');

  dropdownItems.forEach(item => {
    item.addEventListener('click', (event) => {
      event.preventDefault();
      const selectedLang = item.getAttribute('data-lang');
      setLanguage(selectedLang);
    });
  });

  const savedLang = localStorage.getItem('language');
  const browserLang = navigator.language.split('-')[0];
  const currentLang = savedLang || (browserLang === 'de' ? 'de' : 'en');
  setLanguage(currentLang);

  const downloadBtn = document.getElementById('download-btn');
  if (downloadBtn) {
    const originalButtonText = translations[currentLang].download_button || 'Download Full CV (PDF)';

    downloadBtn.addEventListener('click', async () => {
      if (!window.html2canvas || !window.jspdf) {
        alert("Error: PDF libraries are not loaded. Please check index.html.");
        return;
      }

      downloadBtn.disabled = true;
      downloadBtn.innerHTML = 'Generating PDF...';

      try {
        const lang = localStorage.getItem('language') || 'en';
        const trans = translations[lang];

        const tempDiv = document.createElement('div');
        tempDiv.id = 'pdf-temp-container';
        
        tempDiv.style.position = 'fixed';
        tempDiv.style.left = '0';
        tempDiv.style.top = '0';
        tempDiv.style.zIndex = '-9999'; 
        
        tempDiv.style.width = '816px'; 
        tempDiv.style.padding = '48px 58px'; 
        tempDiv.style.backgroundColor = 'white';
        tempDiv.style.color = '#2c3e50';
        tempDiv.style.fontFamily = "Calibri, Arial, sans-serif";
        tempDiv.style.fontSize = '10pt';
        tempDiv.style.lineHeight = '1.5';
        tempDiv.style.boxSizing = 'border-box';
        
        tempDiv.innerHTML = `
<style>
  #pdf-temp-container { font-family: Calibri, Arial, sans-serif; color: #2c3e50; }
  .pdf-header { margin-bottom: 10pt; text-align: center; border-bottom: 2px solid #2980b9; padding-bottom: 6pt; }
  .pdf-header-name { font-size: 13pt; font-weight: bold; color: #1a3a52; margin: 0 0 3pt 0; }
  .pdf-header-contact { font-size: 8pt; color: #666; margin-top: 3pt; line-height: 1.3; }
  .pdf-header-contact span { display: block; margin: 1pt 0; }
  
  .pdf-section { margin-bottom: 10pt; }
  .pdf-section h2 { font-size: 10.5pt; font-weight: bold; color: #1a3a52; text-transform: uppercase; margin: 8pt 0 5pt 0; padding-bottom: 2pt; border-bottom: 1px solid #2980b9; letter-spacing: 0.05em; }
  
  .pdf-summary-text { font-size: 9pt; line-height: 1.35; margin: 0; text-align: justify; }
  
  .pdf-job { margin-bottom: 8pt; }
  .pdf-job-title { font-size: 9pt; font-weight: bold; color: #1a3a52; margin: 0 0 1pt 0; }
  .pdf-job-meta { font-size: 8pt; color: #777; margin: 0 0 3pt 0; font-style: italic; }
  .pdf-job ul { margin: 3pt 0 0 0; padding-left: 18pt; list-style: disc; }
  .pdf-job li { font-size: 8pt; line-height: 1.25; margin-bottom: 2pt; }
  
  .pdf-project-item { margin-bottom: 8pt; }
  .pdf-project-title { font-size: 9pt; font-weight: bold; color: #1a3a52; margin: 0 0 3pt 0; }
  .pdf-project-list { margin: 0; padding-left: 18pt; list-style: disc; }
  .pdf-project-list li { font-size: 8pt; line-height: 1.25; margin-bottom: 1pt; }
  
  .pdf-skill-group { margin-bottom: 6pt; }
  .pdf-skill-label { font-size: 8pt; font-weight: bold; color: #1a3a52; display: inline-block; width: 120pt; vertical-align: top; }
  .pdf-skill-content { font-size: 8pt; color: #666; display: inline-block; width: calc(100% - 125pt); line-height: 1.3; }
  
  .pdf-edu-item { margin-bottom: 5pt; }
  .pdf-edu-degree { font-size: 8pt; font-weight: bold; color: #1a3a52; margin: 0; }
  .pdf-edu-school { font-size: 8pt; margin: 0; color: #666; }
  .pdf-edu-date { font-size: 7.5pt; color: #999; margin: 0; }
  
  .pdf-cert-item { margin-bottom: 6pt; }
  .pdf-cert-category-title { font-size: 8pt; font-weight: bold; color: #1a3a52; margin-bottom: 2pt; }
  .pdf-cert-list { font-size: 8pt; margin: 0; padding-left: 18pt; list-style: disc; line-height: 1.25; }
  .pdf-cert-list li { margin-bottom: 1pt; }

  .pdf-list-item { font-size: 8pt; line-height: 1.3; color: #666; }
</style>

<div class="pdf-header">
  <div class="pdf-header-name">${trans.name}</div>
  <div class="pdf-header-contact">
    <span>${trans.email}: sravani.hvenkata@gmail.com</span>
    <span>${trans.phone}: ${trans.phone} | ${trans.location}: Germany</span>
    <span>${trans.linkedin}: linkedin.com/in/sravani-hukumathi-venkata-750591110</span>
  </div>
</div>

<div class="pdf-section">
  <h2>${trans.summary_title}</h2>
  <p class="pdf-summary-text">${trans.summary_text_short}</p>
</div>

<div class="pdf-section">
  <h2>${trans.skills_title}</h2>
  <div class="pdf-skill-group"><span class="pdf-skill-label">${trans.skills_cat_ml}</span><span class="pdf-skill-content">${trans.skills_ml_details}</span></div>
  <div class="pdf-skill-group"><span class="pdf-skill-label">${trans.skills_cat_dl}</span><span class="pdf-skill-content">${trans.skills_dl_details}</span></div>
  <div class="pdf-skill-group"><span class="pdf-skill-label">${trans.skills_cat_other}</span><span class="pdf-skill-content">${trans.skills_other_details}</span></div>
  <div class="pdf-skill-group"><span class="pdf-skill-label">${trans.skills_cat_prog}</span><span class="pdf-skill-content">${trans.skills_prog_lang_details}</span></div>
  <div class="pdf-skill-group"><span class="pdf-skill-label">${trans.skills_cat_soft}</span><span class="pdf-skill-content">${trans.skills_soft_details}</span></div>
</div>

<div class="pdf-section">
  <h2>${trans.projects_title}</h2>
  <div class="pdf-project-item">
    <div class="pdf-project-title">${trans.project_1_title}</div>
    <ul class="pdf-project-list">
      <li><b>${trans.project_1_desc}</b></li>
      <li>${trans.project_1_li_3}</li>
      <li>${trans.project_1_li_1}</li>
    </ul>
  </div>
</div>

<div class="pdf-section">
  <h2>${trans.experience_title_print}</h2>
  <div class="pdf-job">
    <div class="pdf-job-title">${trans.exp_1_title}</div>
    <div class="pdf-job-meta">${trans.exp_1_date}</div>
    <ul><li>${trans.exp_1_li_1}</li><li>${trans.exp_1_li_2}</li><li>${trans.exp_1_li_4}</li></ul>
  </div>
  <div class="pdf-job">
    <div class="pdf-job-title">${trans.exp_2_title}</div>
    <div class="pdf-job-meta">${trans.exp_2_date}</div>
    <ul><li>${trans.exp_2_li_1}</li><li>${trans.exp_2_li_3}</li></ul>
  </div>
  <div class="pdf-job">
    <div class="pdf-job-title">${trans.exp_3_title}</div>
    <div class="pdf-job-meta">${trans.exp_3_date}</div>
    <ul><li>${trans.exp_3_li_1}</li><li>${trans.exp_3_li_2}</li></ul>
  </div>
</div>

<div class="pdf-section">
  <h2>${trans.education_title}</h2>
  <div class="pdf-edu-item">
    <div class="pdf-edu-degree">${trans.edu_1_title}</div>
    <div class="pdf-edu-school">${trans.edu_1_desc}</div>
    <div class="pdf-edu-date">${trans.edu_1_date}</div>
  </div>
  <div class="pdf-edu-item">
    <div class="pdf-edu-degree">${trans.edu_2_title}</div>
    <div class="pdf-edu-school">${trans.edu_2_desc}</div>
    <div class="pdf-edu-date">${trans.edu_2_date}</div>
  </div>
</div>

<div class="pdf-section">
  <h2>${trans.certs_title}</h2>
  <div class="pdf-cert-item">
    <div class="pdf-cert-category-title">${trans.cert_1_title}</div>
    <ul class="pdf-cert-list">
      <li>${trans.cert_1_li_1}</li>
      <li>${trans.cert_1_li_2}</li>
    </ul>
  </div>
</div>

<div class="pdf-section">
  <h2>${trans.languages_title}</h2>
  <div class="pdf-list-item">
    ${trans.languages_details}
  </div>
</div>
        `;

        document.body.appendChild(tempDiv);

        await new Promise(resolve => setTimeout(resolve, 500)); 
        
        const PAGE_HEIGHT_PX = 1050; 
        
        const atomicBlocks = tempDiv.querySelectorAll('h2, .pdf-job, .pdf-project-item, .pdf-cert-item, .pdf-edu-item, .pdf-skill-group, p.pdf-summary-text, .pdf-list-item');
        
        let pageCount = 1;
        
        const containerTop = tempDiv.getBoundingClientRect().top;

        atomicBlocks.forEach(block => {
            const rect = block.getBoundingClientRect();
            const blockTop = rect.top - containerTop;
            const blockHeight = rect.height;
            
            if ((blockTop + blockHeight) > (PAGE_HEIGHT_PX * pageCount)) {
                const spaceRemaining = (PAGE_HEIGHT_PX * pageCount) - blockTop;
                block.style.paddingTop = (spaceRemaining + 40) + 'px'; 
                pageCount++;
            }
        });

        const canvas = await html2canvas(tempDiv, {
          scale: 1.1,
          useCORS: true,
          allowTaint: true,
          backgroundColor: 'white',
          logging: false
        });

        const { jsPDF } = window.jspdf;
        const pageWidth = 8.5;
        const pageHeight = 11;
        const margin = 0.4;
        const contentWidth = pageWidth - (margin * 2);
        
        const canvasWidth = canvas.width;
        const canvasHeight = canvas.height;
        
        const scaledImgHeight = (canvasHeight * contentWidth) / canvasWidth;
        const usablePageHeight = pageHeight - (margin * 2);
        const numPages = Math.ceil(scaledImgHeight / usablePageHeight);

        const pdf = new jsPDF({ orientation: 'p', unit: 'in', format: 'letter' });

        for (let pageNum = 0; pageNum < numPages; pageNum++) {
          if (pageNum > 0) pdf.addPage();
          
          const sourceY = (pageNum * canvasHeight * usablePageHeight) / scaledImgHeight;
          const sourceHeight = Math.min(
            canvasHeight - sourceY,
            (canvasHeight * usablePageHeight) / scaledImgHeight
          );
          
          const tempCanvas = document.createElement('canvas');
          tempCanvas.width = canvasWidth;
          tempCanvas.height = sourceHeight;
          
          const tempCtx = tempCanvas.getContext('2d');
          tempCtx.fillStyle = 'white';
          tempCtx.fillRect(0, 0, canvasWidth, sourceHeight);
          tempCtx.drawImage(canvas, 0, sourceY, canvasWidth, sourceHeight, 0, 0, canvasWidth, sourceHeight);
          
          const pageImageData = tempCanvas.toDataURL('image/png');
          const pageImageHeight = (sourceHeight * contentWidth) / canvasWidth;
          
          pdf.addImage(pageImageData, 'PNG', margin, margin, contentWidth, pageImageHeight);
        }

        pdf.save('Sravani_Venkata_CV.pdf');
        
        document.body.removeChild(tempDiv);
        downloadBtn.disabled = false;
        downloadBtn.innerHTML = originalButtonText;

      } catch (error) {
        console.error(error);
        alert('Error generating PDF: ' + error.message);
        downloadBtn.disabled = false;
        downloadBtn.innerHTML = originalButtonText;
      }
    });
  }
});
