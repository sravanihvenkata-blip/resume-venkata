const translations = {
  en: {
    "title": "Sravani H. Venkata - Data Scientist",
    "name": "Sravani H. Venkata",
    "tagline": "Aspiring Data Scientist with a background in Automotive Software Development",
    "email": "Email",
    "linkedin": "LinkedIn",
    "github": "GitHub",
    "summary_title": "Summary",
    "summary_text": "A seasoned embedded systems engineer with a decade of experience in the automotive industry, specializing in AUTOSAR, diagnostics, and communication protocols. Leveraging my robust embedded systems background and hands-on Python experience, I am now focusing on applying my analytical and problem-solving skills in the field of data science and machine learning. Passionate about leveraging data to solve complex problems, with a strong foundation in Python, machine learning, and data analysis. Eager to apply newly acquired skills in a challenging data science role.",
    "summary_text_short": "A seasoned embedded systems engineer with a decade of experience, now transitioning into data science. Leveraging a strong background in Python and complex systems to solve data-driven problems.",
    "skills_title": "Skills",
    "skills_cat_prog": "Programming Languages",
    "skills_prog_lang_details": "Python (OOP, Unit Testing)",
    "skills_cat_ml": "Machine Learning & Data Analysis",
    "skills_ml_details": "Classification, Regression, Clustering, Dimensionality Reduction (PCA), Feature Engineering, Time Series Analysis, Anomaly Detection, Exploratory Statistics, Data Visualization",
    "skills_cat_dl": "Deep Learning",
    "skills_dl_details": "Keras, PyTorch, TensorFlow, CNNs, DNNs, Transformers, LLMs, Computer Vision (OpenCV)",
    "skills_cat_tools": "Tools & Platforms",
    "skills_tools_details": "Git, GitHub, Linux Command Line, Docker, Streamlit, Virtual Machines, AWS (basics)",
    "skills_cat_other": "Other Skills",
    "skills_other_details": "Data APIs, Web Scraping (BeautifulSoup), SQL",
    "ds_libs_details": "Pandas, NumPy, Scikit-learn, Matplotlib, Seaborn, Plotly",
    "projects_title": "Data Science Projects",
    "project_1_title": "CAN Bus Anomaly Detection",
    "project_tech_title": "Technologies",
    "project_1_tech": "Python, Pandas, Scikit-learn, Keras, Matplotlib",
    "project_methods_title": "Methods",
    "project_1_methods": "EDA, Supervised Classification, Unsupervised Anomaly Detection (LSTM Autoencoder), Feature Engineering (Shannon Entropy).",
    "project_impact_title": "Impact",
    "project_1_impact": "Developed a system to detect various CAN bus attacks (DoS, Fuzzy, Impersonation) in real-time, providing a foundation for enhanced automotive cybersecurity.",
    "project_1_desc": "Developed a robust anomaly detection system for Controller Area Network (CAN) bus traffic to identify malicious messages in real-time.",
    "project_1_li_1": "Implemented and compared two distinct models: a supervised classification model with expert-driven feature engineering and an unsupervised LSTM Autoencoder for detecting zero-day anomalies.",
    "project_1_li_2": "Performed in-depth Exploratory Data Analysis (EDA) to identify statistical differences between normal and attack traffic, validating the feature engineering strategy.",
    "project_1_li_3": "Engineered key features like Shannon Entropy to effectively distinguish between normal, structured CAN messages and high-entropy \"Fuzzy\" attacks.",
    "project_1_li_4": "Demonstrated the ability to detect various attack types, including DoS, Fuzzy, and Impersonation attacks, by analyzing CAN ID frequency, inter-arrival times, and payload characteristics.",
    "experience_title": "Professional Experience (Last 10 Years: Automotive Embedded Systems)",
    "experience_title_print": "Professional Experience",
    "exp_1_title": "Project Lead, Montbleu Technologies GmbH, Germany",
    "exp_1_date": "Aug 2021 – Feb 2025",
    "exp_1_li_1": "Led adaptation and configuration of AUTOSAR MCAL for new automotive hardware platforms.",
    "exp_1_li_2": "Implemented multicore support, XCP over Ethernet and CAN, and customized bootloaders.",
    "exp_1_li_3": "Oversaw SBC and watchdog functionality implementation, and resolved complex system-level issues.",
    "exp_1_li_4": "Delivered high-quality solutions for OEM clients including Stellantis and Vector Informatik.",
    "exp_2_title": "Lead Engineer, Avin Systems GmbH, Berlin",
    "exp_2_date": "Sep 2019 – July 2021",
    "exp_2_li_1": "Managed a Battery Management System project for Mercedes-Benz, steering software architecture and application SWC development.",
    "exp_2_li_2": "Configured diagnostic stacks and base software modules (AUTOSAR-compliant).",
    "exp_2_li_3": "Mentored junior engineers, ensuring code quality through thorough reviews.",
    "exp_3_title": "Senior Software Engineer, KPIT Technologies GmbH, Munich",
    "exp_3_date": "Oct 2013 – June 2019",
    "exp_3_li_1": "Developed embedded automotive software for clients like Continental AG, ZF-TRW, and OEMs such as BMW.",
    "exp_3_li_2": "Specialized in diagnostics and communication protocols (FlexRay, CAN, LIN), bootloader configuration, and hardware/software integration.",
    "exp_3_li_3": "Authored detailed software designs and collaborated with hardware teams for seamless system integration.",
    "tech_skills_title": "Technical Skills Highlight (Embedded Systems)",
    "tech_skills_desc_1": "<b>Extensive experience in:</b> Embedded C, Python, diagnostics stack, CAN, FlexRay, LIN, UDS, Ethernet, MCAL software architecture, configuration tools (Davinci, AUTOSAR Builder, EB Tresos), versioning (SVN, JIRA, GitHub), and test automation (CANoe, CAPL, VectorCast, CANape).",
    "tech_skills_desc_2": "Led cross-functional teams and delivered complex software solutions for leading automotive OEMs.",
    "education_title": "Education",
    "edu_1_title": "Bachelor of Engineering (Instrumentation Technology)",
    "edu_1_desc": "B.V.B College of Engineering and Technology, Hubli, India",
    "edu_1_date": "September 2009 – June 2013",
    "certs_title": "Certifications & Continuous Learning",
    "certs_details": "Completed extensive coursework in Data Science and Machine Learning, covering topics from Python programming, data analysis, and visualization to advanced deep learning models, computer vision, and NLP.",
    "download_button": "Download Full CV (PDF)"
  },
  de: {
    "title": "Sravani H. Venkata - Datenwissenschaftlerin",
    "name": "Sravani H. Venkata",
    "tagline": "Angehende Datenwissenschaftlerin mit Hintergrund in der Automotive-Softwareentwicklung",
    "email": "E-Mail",
    "linkedin": "LinkedIn",
    "github": "GitHub",
    "summary_title": "Zusammenfassung",
    "summary_text": "Eine erfahrene Ingenieurin für eingebettete Systeme mit einem Jahrzehnt Erfahrung in der Automobilindustrie, spezialisiert auf AUTOSAR, Diagnose und Kommunikationsprotokolle. Ich nutze meinen robusten Hintergrund in eingebetteten Systemen und meine praktische Python-Erfahrung, um meine analytischen und problemlösenden Fähigkeiten nun im Bereich der Datenwissenschaft und des maschinellen Lernens anzuwenden. Leidenschaftlich daran interessiert, Daten zur Lösung komplexer Probleme zu nutzen, mit einer starken Grundlage in Python, maschinellem Lernen und Datenanalyse. Bestrebt, neu erworbene Fähigkeiten in einer anspruchsvollen Rolle als Datenwissenschaftlerin anzuwenden.",
    "summary_text_short": "Erfahrene Ingenieurin für eingebettete Systeme mit einem Jahrzehnt Erfahrung, jetzt im Übergang zur Datenwissenschaft. Nutzt einen starken Hintergrund in Python und komplexen Systemen, um datengesteuerte Probleme zu lösen.",
    "skills_title": "Fähigkeiten",
    "skills_cat_prog": "Programmiersprachen",
    "skills_prog_lang_details": "Python (OOP, Unit Testing)",
    "skills_cat_ml": "Maschinelles Lernen & Datenanalyse",
    "skills_ml_details": "Klassifikation, Regression, Clustering, Dimensionsreduktion (PCA), Feature Engineering, Zeitreihenanalyse, Anomalieerkennung, Explorative Statistik, Datenvisualisierung",
    "skills_cat_dl": "Deep Learning",
    "skills_dl_details": "Keras, PyTorch, TensorFlow, CNNs, DNNs, Transformers, LLMs, Computer Vision (OpenCV)",
    "skills_cat_tools": "Tools & Plattformen",
    "skills_tools_details": "Git, GitHub, Linux-Kommandozeile, Docker, Streamlit, Virtuelle Maschinen, AWS (Grundlagen)",
    "skills_cat_other": "Weitere Fähigkeiten",
    "skills_other_details": "Daten-APIs, Web Scraping (BeautifulSoup), SQL",
    "ds_libs_details": "Pandas, NumPy, Scikit-learn, Matplotlib, Seaborn, Plotly",
    "projects_title": "Data-Science-Projekte",
    "project_1_title": "CAN-Bus-Anomalieerkennung",
    "project_tech_title": "Technologien",
    "project_1_tech": "Python, Pandas, Scikit-learn, Keras, Matplotlib",
    "project_methods_title": "Methoden",
    "project_1_methods": "EDA, Überwachte Klassifikation, Unüberwachte Anomalieerkennung (LSTM Autoencoder), Feature Engineering (Shannon-Entropie).",
    "project_impact_title": "Ergebnis",
    "project_1_impact": "Entwicklung eines Systems zur Echtzeit-Erkennung verschiedener CAN-Bus-Angriffe (DoS, Fuzzy, Impersonation) als Grundlage für eine verbesserte Cybersicherheit im Automobilbereich.",
    "project_1_desc": "Entwicklung eines robusten Anomalieerkennungssystems für den Controller Area Network (CAN)-Busverkehr zur Identifizierung bösartiger Nachrichten in Echtzeit.",
    "project_1_li_1": "Implementierung und Vergleich von zwei unterschiedlichen Modellen: ein überwachtes Klassifikationsmodell mit expertengesteuertem Feature Engineering und ein unüberwachter LSTM-Autoencoder zur Erkennung von Zero-Day-Anomalien.",
    "project_1_li_2": "Durchführung einer tiefgehenden explorativen Datenanalyse (EDA) zur Identifizierung statistischer Unterschiede zwischen normalem und Angriffsverkehr, um die Feature-Engineering-Strategie zu validieren.",
    "project_1_li_3": "Entwicklung von Schlüsselmerkmalen wie der Shannon-Entropie, um effektiv zwischen normalen, strukturierten CAN-Nachrichten und \"Fuzzy\"-Angriffen mit hoher Entropie zu unterscheiden.",
    "project_1_li_4": "Demonstration der Fähigkeit, verschiedene Angriffstypen wie DoS-, Fuzzy- und Impersonation-Angriffe durch Analyse der CAN-ID-Frequenz, der Zwischenankunftszeiten und der Nutzlast-Eigenschaften zu erkennen.",
    "experience_title": "Berufserfahrung (Letzte 10 Jahre: Eingebettete Automotive-Systeme)",
    "experience_title_print": "Berufserfahrung",
    "exp_1_title": "Projektleiterin, Montbleu Technologies GmbH, Deutschland",
    "exp_1_date": "Aug 2021 – Feb 2025",
    "exp_1_li_1": "Leitung der Anpassung und Konfiguration von AUTOSAR MCAL für neue automobile Hardwareplattformen.",
    "exp_1_li_2": "Implementierung von Multicore-Unterstützung, XCP über Ethernet und CAN sowie kundenspezifischen Bootloadern.",
    "exp_1_li_3": "Überwachung der Implementierung von SBC- und Watchdog-Funktionen sowie Lösung komplexer systemweiter Probleme.",
    "exp_1_li_4": "Lieferung hochwertiger Lösungen für OEM-Kunden wie Stellantis und Vector Informatik.",
    "exp_2_title": "Lead Engineer, Avin Systems GmbH, Berlin",
    "exp_2_date": "Sep 2019 – Juli 2021",
    "exp_2_li_1": "Leitung eines Batteriemanagementsystem-Projekts für Mercedes-Benz, Steuerung der Softwarearchitektur und Entwicklung von Anwendungs-SWCs.",
    "exp_2_li_2": "Konfiguration von Diagnosestapeln und Basissoftwaremodulen (AUTOSAR-konform).",
    "exp_2_li_3": "Betreuung von Nachwuchsingenieuren, Sicherstellung der Codequalität durch gründliche Überprüfungen.",
    "exp_3_title": "Senior Software Engineer, KPIT Technologies GmbH, München",
    "exp_3_date": "Okt 2013 – Juni 2019",
    "exp_3_li_1": "Entwicklung von eingebetteter Automotive-Software für Kunden wie Continental AG, ZF-TRW und OEMs wie BMW.",
    "exp_3_li_2": "Spezialisierung auf Diagnose- und Kommunikationsprotokolle (FlexRay, CAN, LIN), Bootloader-Konfiguration und Hardware/Software-Integration.",
    "exp_3_li_3": "Erstellung detaillierter Software-Designs und Zusammenarbeit mit Hardware-Teams für eine nahtlose Systemintegration.",
    "tech_skills_title": "Technische Fähigkeiten im Fokus (Eingebettete Systeme)",
    "tech_skills_desc_1": "<b>Umfassende Erfahrung in:</b> Embedded C, Python, Diagnosestapel, CAN, FlexRay, LIN, UDS, Ethernet, MCAL-Softwarearchitektur, Konfigurationstools (Davinci, AUTOSAR Builder, EB Tresos), Versionierung (SVN, JIRA, GitHub) und Testautomatisierung (CANoe, CAPL, VectorCast, CANape).",
    "tech_skills_desc_2": "Leitung funktionsübergreifender Teams und Lieferung komplexer Softwarelösungen für führende Automobil-OEMs.",
    "education_title": "Ausbildung",
    "edu_1_title": "Bachelor of Engineering (Instrumentierungstechnik)",
    "edu_1_desc": "B.V.B College of Engineering and Technology, Hubli, Indien",
    "edu_1_date": "September 2009 – Juni 2013",
    "certs_title": "Zertifizierungen & kontinuierliches Lernen",
    "certs_details": "Abschluss umfangreicher Kurse in Datenwissenschaft und maschinellem Lernen, die Themen von der Python-Programmierung, Datenanalyse und -visualisierung bis hin zu fortgeschrittenen Deep-Learning-Modellen, Computer Vision und NLP abdecken.",
    "download_button": "Vollständigen Lebenslauf herunterladen (PDF)"
  }
};

document.addEventListener('DOMContentLoaded', () => {
    // --- Language Switching Logic ---
    const setLanguage = (language) => {
        document.documentElement.lang = language;
        localStorage.setItem('language', language);
        document.querySelectorAll('[data-key]').forEach(element => {
            const key = element.getAttribute('data-key');
            if (translations[language] && translations[language][key]) {
                element.innerHTML = translations[language][key];
            }
        });
    };

    const languageSwitcher = document.querySelector('#language-switcher');
    const dropdownItems = document.querySelectorAll('.dropdown-item[data-lang]');

    dropdownItems.forEach(item => {
        item.addEventListener('click', (event) => {
            event.preventDefault();
            const selectedLang = item.getAttribute('data-lang');
            setLanguage(selectedLang);
        });
    });

    const savedLang = localStorage.getItem('language');
    const browserLang = navigator.language.split('-')[0];
    const currentLang = savedLang || (browserLang === 'de' ? 'de' : 'en');
    setLanguage(currentLang);


    // --- PDF Generation Logic (Embedded Template - No CORS Issues) ---
    const downloadBtn = document.getElementById('download-btn');
    if (downloadBtn) {
        const originalButtonText = translations[currentLang].download_button || 'Download Full CV (PDF)';

        downloadBtn.addEventListener('click', async () => {
            downloadBtn.disabled = true;
            downloadBtn.innerHTML = 'Generating PDF...';

            try {
                const lang = localStorage.getItem('language') || 'en';
                const trans = translations[lang];

                // Embedded HTML template with print styles
                const htmlTemplate = `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>${trans.title}</title>
    <style>
        body {
            font-family: 'Helvetica', 'Arial', sans-serif;
            font-size: 10pt;
            line-height: 1.5;
            background: #fff;
            color: #000;
            margin: 0;
        }
        .cv-container {
            width: 8.5in;
            padding: 0.75in;
            box-sizing: border-box;
        }
        h1 {
            font-size: 22pt;
            font-weight: bold;
            text-align: center;
            margin: 0 0 5px 0;
        }
        h2 {
            font-size: 14pt;
            font-weight: bold;
            border-bottom: 1px solid #000;
            padding-bottom: 4px;
            margin: 20px 0 10px 0;
            page-break-before: auto;
            page-break-after: avoid;
        }
        h5 {
            font-size: 11pt;
            font-weight: bold;
            margin: 10px 0 5px 0;
        }
        p {
            margin: 0 0 10px 0;
        }
        ul {
            padding-left: 20px;
            margin-top: 5px;
        }
        li {
            margin-bottom: 5px;
        }
        header {
            text-align: center;
            margin-bottom: 20px;
        }
        .contact-info p {
            display: inline;
            margin: 0 5px;
            font-size: 9pt;
        }
        .skill-category {
            margin-bottom: 5px;
        }
        .project-item, .job {
            margin-bottom: 15px;
            page-break-inside: avoid;
        }
        .date {
            font-style: italic;
            color: #444;
            font-size: 9pt;
            margin-top: -2px;
        }
    </style>
</head>
<body>
    <div class="cv-container">
        <header>
            <h1>${trans.name}</h1>
            <div class="contact-info">
                <p>${trans.email}: sravani.hvenkata@gmail.com</p>
                <p>${trans.linkedin}: linkedin.com/in/sravani-hukumathi-venkata-750591110/</p>
                <p>${trans.github}: github.com/sravanihvenkata-blip</p>
            </div>
        </header>

        <section id="summary">
            <h2>${trans.summary_title}</h2>
            <p>${trans.summary_text_short}</p>
        </section>

        <section id="skills">
            <h2>${trans.skills_title}</h2>
            <div class="skill-category">
                <p><b>${trans.skills_cat_prog}</b>: ${trans.skills_prog_lang_details}</p>
            </div>
            <div class="skill-category">
                <p><b>${trans.skills_cat_ml}</b>: ${trans.skills_ml_details}</p>
            </div>
            <div class="skill-category">
                <p><b>${trans.skills_cat_dl}</b>: ${trans.skills_dl_details}</p>
            </div>
            <div class="skill-category">
                <p><b>${trans.skills_cat_tools}</b>: ${trans.skills_tools_details}</p>
            </div>
            <div class="skill-category">
                <p><b>${trans.skills_cat_other}</b>: ${trans.skills_other_details}</p>
            </div>
        </section>

        <section id="projects">
            <h2>${trans.projects_title}</h2>
            <div class="project-item">
                <h5>${trans.project_1_title}</h5>
                <ul>
                    <li><b>${trans.project_tech_title}</b>: ${trans.project_1_tech}</li>
                    <li><b>${trans.project_methods_title}</b>: ${trans.project_1_methods}</li>
                    <li><b>${trans.project_impact_title}</b>: ${trans.project_1_impact}</li>
                </ul>
            </div>
        </section>

        <section id="experience">
            <h2>${trans.experience_title_print}</h2>
            <div class="job">
                <h5>${trans.exp_1_title}</h5>
                <p class="date">${trans.exp_1_date}</p>
                <ul>
                    <li>${trans.exp_1_li_1}</li>
                    <li>${trans.exp_1_li_2}</li>
                    <li>${trans.exp_1_li_3}</li>
                    <li>${trans.exp_1_li_4}</li>
                </ul>
            </div>
            <div class="job">
                <h5>${trans.exp_2_title}</h5>
                <p class="date">${trans.exp_2_date}</p>
                <ul>
                    <li>${trans.exp_2_li_1}</li>
                    <li>${trans.exp_2_li_2}</li>
                    <li>${trans.exp_2_li_3}</li>
                </ul>
            </div>
            <div class="job">
                <h5>${trans.exp_3_title}</h5>
                <p class="date">${trans.exp_3_date}</p>
                <ul>
                    <li>${trans.exp_3_li_1}</li>
                    <li>${trans.exp_3_li_2}</li>
                    <li>${trans.exp_3_li_3}</li>
                </ul>
            </div>
        </section>

        <section id="education">
            <h2>${trans.education_title}</h2>
            <h5>${trans.edu_1_title}</h5>
            <p>${trans.edu_1_desc}</p>
            <p class="date">${trans.edu_1_date}</p>
        </section>
        
        <section id="certifications">
            <h2>${trans.certs_title}</h2>
            <p>${trans.certs_details}</p>
        </section>
    </div>
</body>
</html>`;

                // Create and configure iframe
                const iframe = document.createElement('iframe');
                iframe.style.visibility = 'hidden';
                iframe.style.position = 'absolute';
                iframe.style.width = '0';
                iframe.style.height = '0';
                document.body.appendChild(iframe);

                const iframeDoc = iframe.contentWindow.document;
                iframeDoc.open();
                iframeDoc.write(htmlTemplate);
                iframeDoc.close();

                // Wait for iframe content to fully load before generating PDF
                await new Promise((resolve) => {
                    iframe.onload = resolve;
                    // Fallback timeout to ensure content is ready
                    setTimeout(resolve, 1000);
                });

                // Small delay to ensure all styles are applied
                await new Promise(resolve => setTimeout(resolve, 300));

                const element = iframe.contentWindow.document.documentElement;
                const opt = {
                    margin: 0,
                    filename: 'Sravani_Venkata_CV.pdf',
                    image: { type: 'jpeg', quality: 0.98 },
                    html2canvas: { scale: 2, useCORS: true, letterRendering: true, backgroundColor: '#ffffff' },
                    jsPDF: { unit: 'in', format: 'letter', orientation: 'portrait', compress: true }
                };

                // Generate and save PDF
                await html2pdf().set(opt).from(element).save();

                // Cleanup
                document.body.removeChild(iframe);
                downloadBtn.disabled = false;
                downloadBtn.innerHTML = originalButtonText;

            } catch (error) {
                console.error('Error during PDF generation:', error);
                alert('Sorry, there was an error generating the PDF. Please try again.');
                downloadBtn.disabled = false;
                downloadBtn.innerHTML = originalButtonText;
            }
        });
    }
});
